# Day 3: Secure Root SSH Access

## Problem Statement

Following security audits, the xFusionCorp Industries security team has rolled out new protocols, including the restriction of direct root SSH login.

**Task:** Disable direct SSH root login on all app servers within the Stratos Datacenter.

## Solution

### Steps

1. SSH into each app server from the jump host:
```bash
ssh <username>@<app_server>
```

2. Disable root login in SSH configuration:
```bash
sudo sed -i 's/^#*PermitRootLogin.*/PermitRootLogin no/' /etc/ssh/sshd_config
sudo systemctl restart sshd
```
**What this does:**
- Opens the SSH configuration file (`/etc/ssh/sshd_config`)
- Finds the line that controls whether the root user can login directly via SSH
- Changes it to `PermitRootLogin no` (blocks direct root access)
- Restarts the SSH service so the new setting takes effect

**Command Breakdown:**
- `sed -i`: Edit file in-place
- `s/^#*PermitRootLogin.*/PermitRootLogin no/`: Search and replace pattern
  - `^#*`: Matches lines starting with zero or more `#` (handles commented lines)
  - `PermitRootLogin.*`: Matches any PermitRootLogin setting
  - `PermitRootLogin no`: Replaces with this value
- `systemctl restart sshd`: Restarts SSH service to apply changes

3. Repeat for all three app servers (stapp01, stapp02, stapp03)

